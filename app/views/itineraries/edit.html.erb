<%= simple_form_for [@itinerary, @destinations] do |f| %>
  <%= f.input :address,
    input_html: {
      data: {
        address_autocomplete_target: "address"
      },
      class: "d-none"
    },
    wrapper_html: {
      data: {
        controller: "address-autocomplete",
        address_autocomplete_api_key_value: ENV["MAPBOX_API_KEY"]
      }
    }
  %>
<% end %>

<div style="width: 100%; height: 90vh;"
  data-controller="map"
  data-map-coordinates-value="<%= @coordinates.to_json %>"
  data-map-markers-value="<%= @markers.to_json %>"
  data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
</div>
